<script lang="ts">
	import { onMount } from "svelte";

    let preload = "preload";


onMount(() => {
    let paths = document.querySelectorAll('path');

    fillSvgPaths();
    document.addEventListener('scroll', fillSvgPaths);
    

    function fillSvgPaths() {
        let scrollPercentage = (document.documentElement.scrollTop + document.body.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight)

        for (var path of paths) {
            
            let pathLength = path.getTotalLength();
            path.style.strokeDasharray = pathLength.toString();
            path.style.strokeDashoffset = pathLength.toString();

            let drawLength = pathLength * scrollPercentage;
            path.style.strokeDashoffset = (pathLength - drawLength).toString();
            // path.style.strokeDashoffset = "7";
            // path.style.strokeDashoffset = pathLength.toString();
            // path.style.strokeDasharray = pathLength.toString();
            // path.style.strokeDashoffset = pathLength.toString();
            // path.style.strokeDashoffset = "100";
        }
    }
    preload = "";
});
</script>

<div class="{preload}">
<svg id="Layer_1"
     data-name="Layer 1"
     xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 165.53 47.27">
    <defs>
        <style>.cls-1{fill:none;stroke:#231f20;stroke-miterlimit:10;}</style>
    </defs>
    <text x="-171.97"
          y="-37.09" />
    <path class="cls-1"
          d="M229.26,55.55v1.22c-1.11,1-2.06,1.88-2.84,2.52A26.63,26.63,0,0,1,224.1,61a13.48,13.48,0,0,1-1.93,1.09,3.43,3.43,0,0,1-1.31.33,2.7,2.7,0,0,1-2.13-1,3.71,3.71,0,0,1-.82-2.5,9.14,9.14,0,0,1,.71-3.48,17.7,17.7,0,0,1,2-3.56Q222,50.09,224,47.8a9,9,0,0,0,1.47-1.9.29.29,0,0,0-.09-.21.25.25,0,0,0-.19-.09,7.23,7.23,0,0,0-2.06,1.48c-1.14,1-2.62,2.43-4.42,4.34s-3.74,4.19-5.82,6.82c-.12.14-.49.62-1.12,1.44a17.88,17.88,0,0,1-1.33,1.59,1.11,1.11,0,0,1-.67.37c-.32,0-.61-.34-.85-1a6.17,6.17,0,0,1-.36-2.12,3,3,0,0,1,.45-1.47c.3-.53.95-1.48,1.95-2.84s1.83-2.52,2.49-3.46,1.38-2.07,2.16-3.41c.55-.92,1-1.66,1.22-2.21a3.39,3.39,0,0,0,.4-1.46c0-.36-.11-.54-.32-.54-.44,0-1.28.59-2.51,1.78a51.62,51.62,0,0,0-4.56,5.3q-2.72,3.51-5.67,8.14c-.65,1-1.1,1.76-1.37,2.13a1.14,1.14,0,0,1-.9.54c-.41,0-.79-.44-1.15-1.31a5.9,5.9,0,0,1-.54-2.12,1.09,1.09,0,0,1,.21-.58q2.33-3.09,3.82-5.25c1-1.44,1.88-2.81,2.65-4.11a26.69,26.69,0,0,0,1.69-3.2,5.52,5.52,0,0,0,.53-2c0-.51-.23-.76-.69-.76a5.12,5.12,0,0,0-1.92.72c-.9.48-2,1.14-3.41,2s-2.49,1.47-3.32,1.91a4.59,4.59,0,0,1-1.86.66c-.39,0-.58-.22-.58-.65a11.85,11.85,0,0,1,.25-1.7,8.22,8.22,0,0,1,.5-1.87,7.22,7.22,0,0,1,1.89-1.87,10.15,10.15,0,0,1,1.68-1.16c.1,0,.14,0,.14.13s0,.11-.14.21a10.78,10.78,0,0,0-1.07,1,1.62,1.62,0,0,0-.44.81,40.6,40.6,0,0,1,5.76-2.95,11.85,11.85,0,0,1,3.52-1,1.19,1.19,0,0,1,.93.66,6.41,6.41,0,0,1,.75,1.53,4.53,4.53,0,0,1,.31,1.11,6.07,6.07,0,0,1-.46,2.12c-.3.82-.72,1.76-1.24,2.84l-1.94,4c.61-.78,1.19-1.51,1.74-2.17s1.1-1.32,1.64-2,1.1-1.27,1.67-1.91a22.63,22.63,0,0,1,2.56-2.52,22.25,22.25,0,0,1,2.66-2,4.43,4.43,0,0,1,1.68-.77,1.37,1.37,0,0,1,1.1.68,2.46,2.46,0,0,1,.49,1.45,6.18,6.18,0,0,1-.67,2q-.67,1.44-1.95,3.69c-.86,1.5-2,3.44-3.4,5.8,1.34-1.42,2.73-2.87,4.17-4.37s2.51-2.6,3.22-3.29a21.69,21.69,0,0,1,1.75-1.58q1-.75,2-1.59l1.54-1.35a6.79,6.79,0,0,1,1-.76,1.63,1.63,0,0,1,.81-.26c.3,0,.68.35,1.15,1.06a3.81,3.81,0,0,1,.69,1.35,1.53,1.53,0,0,1-.41.88c-.28.34-.85,1-1.72,1.9a42.22,42.22,0,0,0-4.14,5.17,28.3,28.3,0,0,0-2.67,4.77,9.52,9.52,0,0,0-.9,3.4,1.71,1.71,0,0,0,.29,1.12,1.08,1.08,0,0,0,.9.36,2.6,2.6,0,0,0,1.05-.22,7.93,7.93,0,0,0,1.07-.59l1.12-.74c.49-.29,1-.61,1.45-.94l1.1-.79Z"
          transform="translate(-171.97 -37.09)" />
    <path class="cls-1"
          d="M240.44,55.59v1.18a9,9,0,0,1-1.86,1.4,4,4,0,0,1-2,.28c-1.52,1.81-2.87,2.71-4,2.71a2.82,2.82,0,0,1-1.79-.65,4.43,4.43,0,0,1-1.29-1.77,6.36,6.36,0,0,1-.49-2.52,5.25,5.25,0,0,1,.75-2.49,11.66,11.66,0,0,1,4.48-4.48,5.42,5.42,0,0,1,2.51-.73,2.77,2.77,0,0,1,1.3.26.77.77,0,0,1,.47.71,1.32,1.32,0,0,1-.4.81,1.47,1.47,0,0,1,.91.46,2,2,0,0,1,.25,1.19,7.39,7.39,0,0,1-.4,2.13,10.45,10.45,0,0,1-1.08,2.41l.32.31h.26a1.26,1.26,0,0,0,.59-.15,3.57,3.57,0,0,0,.52-.31ZM236.82,51q-1.45.87-2.49,1.59A11.13,11.13,0,0,0,232.57,54a3.87,3.87,0,0,0-1,1.47c-.29,1.31-.44,2-.44,2.12,0,.78.54,1.16,1.62,1.16a5.52,5.52,0,0,0,2.53-1.3,4.63,4.63,0,0,1-.3-1.58,6,6,0,0,1,.46-2.26A17.46,17.46,0,0,1,236.82,51Z"
          transform="translate(-171.97 -37.09)" />
    <path class="cls-1"
          d="M242.71,55.66l-.32,1.48a2.88,2.88,0,0,0-.07.63c0,.63.27.95.8.95s1.72-1,3.67-3a5.65,5.65,0,0,1,.85-2.63,14.19,14.19,0,0,1,1.85-2.62c.67-.75,1.17-1.13,1.5-1.13.52,0,.77.34.77,1a4.94,4.94,0,0,1-.3,1.51,10.82,10.82,0,0,1-.87,1.91,18.38,18.38,0,0,1-1.43,2.12c.3.53.59.79.9.79a1.71,1.71,0,0,0,.85-.27,9.85,9.85,0,0,0,1.17-.84V56.8a9.55,9.55,0,0,1-1.56,1.06,2.61,2.61,0,0,1-2.73-.2,34.08,34.08,0,0,1-2.92,2.84,3.22,3.22,0,0,1-1.83.94A2.44,2.44,0,0,1,241,60a6.14,6.14,0,0,1-.85-3.19q0-2.34,2.63-5.61A8.46,8.46,0,0,1,244,49.85a1.79,1.79,0,0,1,1.1-.36,2.62,2.62,0,0,1,1,.19c.32.13.47.28.47.46a5.31,5.31,0,0,1-1.17,2.57A14,14,0,0,1,242.71,55.66Z"
          transform="translate(-171.97 -37.09)" />
    <path class="cls-1"
          d="M260.45,55.62v1.29a18.19,18.19,0,0,1-3.18,3.31,4.57,4.57,0,0,1-2.52,1.12,2.28,2.28,0,0,1-2.14-1.51,7.74,7.74,0,0,1-.71-3.31,6.19,6.19,0,0,1,.14-1.31,5.16,5.16,0,0,1,.34-1q.19-.41.72-1.26c1.66-2.59,3.19-3.89,4.57-3.89.71,0,1.07.28,1.07.83a4.22,4.22,0,0,1-.69,1.76,8.21,8.21,0,0,1-1.24,1.7,28.31,28.31,0,0,0-2,2.06,2,2,0,0,0-.46,1.32,1.36,1.36,0,0,0,.47,1,1.8,1.8,0,0,0,1.23.42,3.58,3.58,0,0,0,1.82-.6A24.13,24.13,0,0,0,260.45,55.62Zm-1.2-7.85a1.24,1.24,0,0,1-.83-.34,1,1,0,0,1-.4-.84,2.91,2.91,0,0,1,.74-1.72,2,2,0,0,1,1.53-.95,1.29,1.29,0,0,1,.88.32,1.24,1.24,0,0,1,.35.94,2.79,2.79,0,0,1-.72,1.67A2,2,0,0,1,259.25,47.77Z"
          transform="translate(-171.97 -37.09)" />
    <path class="cls-1"
          d="M263.1,56.26v.44a2.34,2.34,0,0,0,.51,1.61,1.69,1.69,0,0,0,1.34.58,4.4,4.4,0,0,0,1.78-.4,10,10,0,0,0,1.84-1.07c.61-.45,1.35-1.05,2.23-1.8V56.7a21.77,21.77,0,0,1-3.73,3.66,5.92,5.92,0,0,1-3.53,1.28,3,3,0,0,1-2.48-1.22,5.39,5.39,0,0,1-.91-3.32,6.66,6.66,0,0,1,.86-3.35,12.6,12.6,0,0,1,2.81-3.17,10.69,10.69,0,0,1,2.66-1.72,5.88,5.88,0,0,1,2.35-.58,2.08,2.08,0,0,1,1.31.37,1.37,1.37,0,0,1,.48,1.14,3.63,3.63,0,0,1-.82,2.2,9.37,9.37,0,0,1-2.52,2.18A26.18,26.18,0,0,1,263.1,56.26Zm.18-1.15a10,10,0,0,0,2.7-1.53,7.83,7.83,0,0,0,1.67-1.74,2.83,2.83,0,0,0,.53-1.23c0-.27-.12-.4-.37-.4a2.53,2.53,0,0,0-1,.4,9.11,9.11,0,0,0-1.44,1.06A7.87,7.87,0,0,0,264,53.2,4.87,4.87,0,0,0,263.28,55.11Z"
          transform="translate(-171.97 -37.09)" />
    <path class="cls-1"
          d="M292.72,57.66l.58.44a9.66,9.66,0,0,1-.44.86l-.51.9c-.2.35-.35.62-.46.79-.87,1.54-1.7,2.3-2.47,2.3a1.11,1.11,0,0,1-.85-.38,1.54,1.54,0,0,1-.35-1.06,7.48,7.48,0,0,1,.68-2.6A34,34,0,0,1,291,54.84q1.41-2.42,3.56-5.47t4.83-6.45a24.37,24.37,0,0,0-3.67-.23,30.93,30.93,0,0,0-5.44.54,40.14,40.14,0,0,0-5.22,1.26c-1.48.47-2.23.82-2.23,1a.17.17,0,0,0,.09.17,1.11,1.11,0,0,0,.29.07l.52.06c1.37.19,2.06.4,2.06.64s-.3.17-.9.16h-2.16a8.46,8.46,0,0,1-1.45-.08.89.89,0,0,1-.6-.29,1.25,1.25,0,0,1-.15-.68,9.76,9.76,0,0,1,.18-1.3,8.43,8.43,0,0,1,1-3,5.09,5.09,0,0,1,2.12-1.84,14.65,14.65,0,0,1,3.95-1.13,43,43,0,0,1,7-.72,22.51,22.51,0,0,1,3.21.17,5.13,5.13,0,0,1,1.74.48,1.75,1.75,0,0,1,.7.62,9,9,0,0,1,.39,1.07l.55,1.61a1.91,1.91,0,0,0,.09.26l.06.2a.68.68,0,0,1,0,.19,2.49,2.49,0,0,1-.3,1.23,16.88,16.88,0,0,1-1.13,1.64c-.54.73-.94,1.29-1.2,1.7A122,122,0,0,0,292.72,57.66Z"
          transform="translate(-171.97 -37.09)" />
    <path class="cls-1"
          d="M306.78,55.62v1.29a17.55,17.55,0,0,1-3.18,3.31,4.52,4.52,0,0,1-2.51,1.12,2.29,2.29,0,0,1-2.15-1.51,7.73,7.73,0,0,1-.7-3.31,6.19,6.19,0,0,1,.14-1.31,5.21,5.21,0,0,1,.33-1,14,14,0,0,1,.73-1.26Q301.93,49,304,49c.71,0,1.07.28,1.07.83a4.14,4.14,0,0,1-.7,1.76,7.54,7.54,0,0,1-1.24,1.7,27.47,27.47,0,0,0-2,2.06,2,2,0,0,0-.47,1.32,1.34,1.34,0,0,0,.48,1,1.77,1.77,0,0,0,1.23.42,3.58,3.58,0,0,0,1.82-.6A23.22,23.22,0,0,0,306.78,55.62Zm-1.19-7.85a1.26,1.26,0,0,1-.84-.34,1.05,1.05,0,0,1-.39-.84,2.85,2.85,0,0,1,.74-1.72,2,2,0,0,1,1.52-.95,1.25,1.25,0,0,1,.88.32,1.21,1.21,0,0,1,.36.94,2.75,2.75,0,0,1-.73,1.67A2,2,0,0,1,305.59,47.77Z"
          transform="translate(-171.97 -37.09)" />
    <path class="cls-1"
          d="M314.66,58c1.62-1.43,3-2.67,4.16-3.73l2.74-2.51c.66-.61,1.24-1.12,1.75-1.54s.82-.64,1-.64.53.27.78.84a3.81,3.81,0,0,1,.37,1.36c0,.22-.38.75-1.12,1.57s-1.3,1.49-1.67,2a2.53,2.53,0,0,0-.55,1.55,1,1,0,0,0,.31.76,1.06,1.06,0,0,0,.76.29,2.13,2.13,0,0,0,1.22-.53c.47-.35,1.22-1,2.24-1.88V56.8c-1,1-1.94,1.79-2.78,2.49a13.9,13.9,0,0,1-2.17,1.56,3.25,3.25,0,0,1-1.54.52,1.19,1.19,0,0,1-.91-.41,1.48,1.48,0,0,1-.37-1,3.71,3.71,0,0,1,.21-1.21,11.12,11.12,0,0,1,.65-1.46c.3-.56.68-1.24,1.16-2l1.32-2.17C321,54,319.93,55,319,55.87s-1.68,1.69-2.27,2.36-1.05,1.21-1.39,1.6a2.67,2.67,0,0,1-1.82,1.09c-.61,0-.92-.44-.92-1.31a5.31,5.31,0,0,1,.69-1.89c.45-.9,1.1-2.06,1.95-3.47a.73.73,0,0,0,.1-.44.31.31,0,0,0-.35-.35c-.26,0-.63.25-1.11.73s-1.43,1.5-2.83,3.05a17.9,17.9,0,0,0-1.3,1.7c-.49.69-.84,1.16-1.05,1.39a.87.87,0,0,1-.63.36c-.43,0-.82-.38-1.18-1.13a6,6,0,0,1-.55-2.62,4.54,4.54,0,0,1,.36-1.88,17.33,17.33,0,0,1,1.12-2,17.65,17.65,0,0,1,1.93-2.43,2.21,2.21,0,0,1,1.57-.73,1.74,1.74,0,0,1,.86.2.63.63,0,0,1,.35.55,2.59,2.59,0,0,1-.64,1.22,13.47,13.47,0,0,1-1.63,1.74,7.3,7.3,0,0,0-1,1.25,2.53,2.53,0,0,0-.47,1.09c0,.31.12.47.37.47s.7-.41,1.51-1.23l2.66-2.68A28.44,28.44,0,0,1,316,50.13a3.74,3.74,0,0,1,2.1-1,1.09,1.09,0,0,1,.87.4,1.42,1.42,0,0,1,.34,1,3.79,3.79,0,0,1-.52,1.4,25.86,25.86,0,0,1-1.54,2.5Q316.25,55.93,314.66,58Z"
          transform="translate(-171.97 -37.09)" />
    <path class="cls-1"
          d="M329.3,56.26v.44a2.34,2.34,0,0,0,.51,1.61,1.69,1.69,0,0,0,1.34.58,4.4,4.4,0,0,0,1.78-.4,10,10,0,0,0,1.84-1.07c.61-.45,1.35-1.05,2.23-1.8V56.7a21.77,21.77,0,0,1-3.73,3.66,5.92,5.92,0,0,1-3.53,1.28,3,3,0,0,1-2.48-1.22,5.39,5.39,0,0,1-.91-3.32,6.56,6.56,0,0,1,.86-3.35A12.6,12.6,0,0,1,330,50.58a10.69,10.69,0,0,1,2.66-1.72,5.84,5.84,0,0,1,2.35-.58,2.08,2.08,0,0,1,1.31.37,1.37,1.37,0,0,1,.48,1.14A3.63,3.63,0,0,1,336,52a9.37,9.37,0,0,1-2.52,2.18A26.61,26.61,0,0,1,329.3,56.26Zm.18-1.15a10,10,0,0,0,2.7-1.53,7.54,7.54,0,0,0,1.66-1.74,2.76,2.76,0,0,0,.54-1.23c0-.27-.12-.4-.37-.4a2.53,2.53,0,0,0-1,.4,9.11,9.11,0,0,0-1.44,1.06,7.87,7.87,0,0,0-1.31,1.53A4.87,4.87,0,0,0,329.48,55.11Z"
          transform="translate(-171.97 -37.09)" />
</svg>
</div>
<section>
    <h1>text</h1>
</section>
<section>
    <h1>is</h1>
</section>
<section>
    <h1>cool</h1>
</section>
<style>
    svg {
        position: fixed;
        width: 50%;
        top: 30%;
        left: 20%;
        z-index: 1;
        opacity: 1;
    }
    section {
        height: 100vh;
        display: grid;
        place-content: center;
        font-size: 5rem;
        z-index: 0;
    }
    h1 {
        z-index: 2;
    }

    section:nth-of-type(2) {
        background: rgb(232, 227, 214);
    }

    svg path {
        stroke-dasharray: 0;
        stroke-dashoffset: 0;
        stroke-width: 0.4;
        stroke: var(--light-gray);
        fill: none;
        transition: stroke-dashoffset 1s;
    }
    .preload * {
        transition: none !important;
        fill: red !important;
    }
</style>